---
title: "Extract values from raster"
author: "Shira Salingr√©"
output: html_document
---

Load packages
```{r}
library(tidyverse)
library(sdmpredictors)

```

Explore layers:
Create a variable that lists all layers available
```{r}
all_bio_layers <- list_layers(datasets = "Bio-ORACLE", marine = TRUE) %>%
  dplyr::select(layer_code, name)

all_bio_layers %>% filter(stringr::str_detect(.$name, "temperature")) # layers associated with the word 'temperature'

```

Load layers from Bio-Oracle (1) and extract values matching a dataframe of coordinates (2)
```{r}
temp <- load_layers(c("BO2_temprange_ss"), datadir = "Bio ORACLE data") # temperature raster for the whole world
mean_temp <- raster::extract(temp[[1]], coords, buffer = 15000, fun = mean, df = TRUE) # extract according to 'coords' dataframe (lon-lat)

```

`coords` should be a dataframe of coordinates (lat and lon)

Note: this code is using an example of one type of temperature layer